import { useState } from "react";
import { SyncCard } from "@/components/admin/sync-card";
import { PackageList } from "@/components/admin/package-list";
import { AutoGeneratedCard } from "@/components/admin/auto-generated-card";
import { SchematronRulesManager } from "@/components/admin/schematron-rules-manager";
import { AssetVersionHistory } from "@/components/admin/asset-version-history";
import { cn } from "@/lib/utils";
import {
  Download,
  ShieldCheck,
  Package,
} from "lucide-react";

const tabs = [
  { id: "sync", label: "GÄ°B Sync", icon: Download },
  { id: "rules", label: "Kurallar", icon: ShieldCheck },
  { id: "packages", label: "Paketler", icon: Package },
] as const;

type TabId = (typeof tabs)[number]["id"];

export default function AdminPage() {
  const [activeTab, setActiveTab] = useState<TabId>("sync");

  return (
    <div className="space-y-6">
      {/* Tab Navigation */}
      <div className="flex items-center gap-1.5 rounded-xl border bg-card p-1.5 shadow-sm">
        {tabs.map((tab) => {
          const Icon = tab.icon;
          const isActive = activeTab === tab.id;
          return (
            <button
              key={tab.id}
              onClick={() => setActiveTab(tab.id)}
              className={cn(
                "relative flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-medium transition-all duration-200 outline-none",
                isActive
                  ? "bg-primary text-primary-foreground shadow-md shadow-primary/25"
                  : "text-muted-foreground hover:text-foreground hover:bg-muted/60"
              )}
            >
              <Icon className="h-4 w-4" />
              <span>{tab.label}</span>
            </button>
          );
        })}
      </div>

      {/* Tab Content */}
      {activeTab === "sync" && (
        <div className="space-y-6">
          <SyncCard />
          <AssetVersionHistory />
        </div>
      )}

      {activeTab === "rules" && <SchematronRulesManager />}

      {activeTab === "packages" && (
        <div className="space-y-6">
          <PackageList />
          <AutoGeneratedCard />
        </div>
      )}
    </div>
  );
}
